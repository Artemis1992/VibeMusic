# Переход от монолита к модульной архитектуре

Проект изначально создавался как обычный Django-монолит.  
По мере роста стало появляться всё больше разнородной логики, и стало понятно, что держать всё в одном месте уже неудобно.

Сейчас рассматриваю постепенный переход в сторону микросервисов, но не спешу дробить проект - сначала хочу довести структуру до нормального модульного монолита и упорядочить ключевые процессы внутри приложения.

## Почему думаю о переходе

- логика из разных доменов оказалась смешана в одном приложении  
- сложнее тестировать и развивать отдельные модули  
- увеличился риск затронуть старый функционал при добавлении нового  
- есть части, которые вообще не связаны между собой, но находятся рядом  
- хочется в будущем иметь возможность масштабировать определённые компоненты отдельно

## Что делаю сейчас

Основная цель - привести проект к модульной структуре и подготовить основу, на которой в будущем можно будет безболезненно выделять отдельные сервисы.

Текущие шаги:

- выделяю `services.py` для бизнес-логики  
- выделяю `selectors.py` для запросов к БД  
- разделяю проект на домены (social, content, security и т.д.)  
- упрощаю view, убирая из них тяжёлую бизнес-логику  
- формирую интерфейсы, которые со временем можно заменить на обращения к внешним сервисам  
- постепенно внедряю **unit-тесты** и **интеграционные тесты** через `pytest`

## Текущие задачи, которые хочу завершить до перехода

Перед тем как переходить к микросервисам, хочу закрыть ключевые улучшения внутри монолита:

- доработать добавление постов через контекстное меню  
- упростить процесс создания нового поста  
- внедрить AI-агента, который будет автоматизировать рутинные действия:
  - генерировать биографии  
  - заполнять информацию «о пользователе»  
  - помогать создавать и форматировать контент  
- минимизировать ручные действия при заполнении нового поста  
- навести порядок в тестах и покрыть основную бизнес-логику

## Как планирую выносить сервисы дальше

Переход будет постепенным:

1. окончательно разделить монолит на доменные модули  
2. вынести подсистемы вроде уведомлений или безопасности в отдельные сервисы  
3. оставить в монолите тонкий слой, который взаимодействует с ними  
4. подготовить Docker-окружение для новых компонентов  
5. по мере роста переносить остальные части функционала

## Что уже сделано

- вынесена логика подписок в сервисный слой  
- добавлены отдельные селекторы для запросов  
- начато разделение проекта на доменные области  
- view стали проще и чище  
- структура движется в сторону модульного монолита  
- начало внедрения тестирования (unit + integration)

## Зачем всё это

Цель - сделать проект проще в поддержке, расширении и масштабировании.  
Если отдельный компонент начнёт активно расти или нагружать монолит - его можно будет выделить в отдельный сервис без глобальных переделок.
